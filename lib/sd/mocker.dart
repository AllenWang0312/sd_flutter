import 'bean/Configs.dart';

const BASE64_PREFIX = 'data:image/png;base64,';


dynamic multiGenerateBody(int cmd,dynamic data, int pi, int times) {
  return {
    "fn_index": cmd,
    "data": [
      "", //task(74b1tly1v240aog)
      data['prompt'],
      data['negative_prompt'],
      data['styles'], //选择的style
      data['steps'],
      data['sampler_name'],
      data['restore_faces'],
      data['tiling'],
      times,
      pi, //每批数量
      7, //cfg scale
      data['seed'], //第一张图seed 后面累加
      -1,
      0,
      0,
      0,
      false,
      data['firstphase_height'],
      data['firstphase_width'],
      true,
      0.3,
      2,
      "Latent", //data['hr_upscaler'],
      0,
      0,
      0,
      [],
      "None",
      false,
      "MultiDiffusion",
      false,
      10,
      1,
      1,
      64,
      false,
      true,
      1024,
      1024,
      96,
      96,
      48,
      1,
      "None",
      2,
      false,
      false,
      false,
      false,
      false,
      0.4,
      0.4,
      0.2,
      0.2,
      "",
      "",
      "Background",
      0.2,
      -1,
      false,
      0.4,
      0.4,
      0.2,
      0.2,
      "",
      "",
      "Background",
      0.2,
      -1,
      false,
      0.4,
      0.4,
      0.2,
      0.2,
      "",
      "",
      "Background",
      0.2,
      -1,
      false,
      0.4,
      0.4,
      0.2,
      0.2,
      "",
      "",
      "Background",
      0.2,
      -1,
      false,
      0.4,
      0.4,
      0.2,
      0.2,
      "",
      "",
      "Background",
      0.2,
      -1,
      false,
      0.4,
      0.4,
      0.2,
      0.2,
      "",
      "",
      "Background",
      0.2,
      -1,
      false,
      0.4,
      0.4,
      0.2,
      0.2,
      "",
      "",
      "Background",
      0.2,
      -1,
      false,
      0.4,
      0.4,
      0.2,
      0.2,
      "",
      "",
      "Background",
      0.2,
      -1,
      false,
      false,
      true,
      true,
      false,
      1536,
      96,
      false,
      "",
      0,
      false,
      false,
      "LoRA",
      "None",
      0,
      0,
      "LoRA",
      "None",
      0,
      0,
      "LoRA",
      "None",
      0,
      0,
      "LoRA",
      "None",
      0,
      0,
      "LoRA",
      "None",
      0,
      0,
      "Refresh models",
      null,
      false,
      "none",
      "None",
      1,
      null,
      false,
      "Scale to Fit (Inner Fit)",
      false,
      false,
      64,
      64,
      64,
      1,
      false,
      false,
      "",
      0.5,
      true,
      false,
      "",
      "Lerp",
      false,
      0.9,
      5,
      "0.0001",
      false,
      "None",
      "",
      0.1,
      false,
      false,
      false,
      "positive",
      "comma",
      0,
      false,
      false,
      "",
      "Seed",
      "",
      "Nothing",
      "",
      "Nothing",
      "",
      true,
      false,
      false,
      false,
      0,
      "Not set",
      true,
      true,
      "",
      "",
      "",
      "",
      "",
      1.3,
      "Not set",
      "Not set",
      1.3,
      "Not set",
      1.3,
      "Not set",
      1.3,
      1.3,
      "Not set",
      1.3,
      "Not set",
      1.3,
      "Not set",
      1.3,
      "Not set",
      1.3,
      "Not set",
      1.3,
      "Not set",
      false,
      "None",
      null,
      false,
      50,
      [],
      "",
      "",
      ""
    ],
    // "session_hash": "pi2wtd3ckx8"
  };
}

dynamic getPreview(int id,String taskId) {
  return {
    "id_task": "task($taskId)",
    "id_live_preview": id
  };
}



//data:image/png;base64,
dynamic tagger(int cmd,String encodeData, String interrogator, double threshold) {
  return {
    "fn_index": cmd,
    "data": [
      "$BASE64_PREFIX$encodeData",
      "",
      false,
      "",
      "[name].[output_extension]",
      "ignore",
      false,
      interrogator, //interrogator 858刷新
      threshold,
      "",
      "",
      false,
      false,
      true,
      "0_0, (o)_(o), +_+, +_-, ._., <o>_<o>, <|>_<|>, =_=, >_<, 3_3, 6_9, >_o, @_@, ^_^, o_o, u_u, x_x, |_|, ||_||",
      false,
      false
    ],
    // "session_hash": "q1t6lahrvf"
  };
}

dynamic setPluginCover(cmd,String remotePath, String pluginPathNoExt) {
  return {
    "fn_index": cmd,
    "data": [
      -1,
      [
        {"name": remotePath, "data": "file=$remotePath", "is_file": true}
      ],
      "$pluginPathNoExt.preview.png"
    ],
    "session_hash": "m7od6wwmtql"
  };
}

dynamic getRemoteHistoryInfo(int fnIndex, int index, int page, String type) {
  return {
    "fn_index": fnIndex,
    "data": [type, "$index", page],
    // "session_hash": "ilpmq48h4ug"
  };
}

dynamic addToFavourite(int fnIndex, String remoteFilePath) {
  return {
    "fn_index": fnIndex,
    "data": [remoteFilePath],
    // "session_hash": "ilpmq48h4ug"
  };
}

dynamic delateFile(
    int fnIndex, String? filePath, int page, int index, int pageSize) {
  return {
    "fn_index": fnIndex,
    "data": [1, filePath, null, "$index", pageSize],
    // "session_hash": "cqewqfm6sps"
  };
}


dynamic getLastPrompt(int cmd) {
  return {
    "fn_index": cmd,
    "data": [
      "",
      "",
      "",
      20,
      "Euler a",
      false,
      7,
      -1,
      512,
      512,
      1,
      -1,
      0,
      0,
      0,
      0.7,
      false,
      null,
      2,
      "Latent",
      0,
      0,
      0,
      false,
      false,
      "LoRA",
      "None",
      1,
      1,
      1,
      "LoRA",
      "None",
      1,
      1,
      1,
      "LoRA",
      "None",
      1,
      1,
      1,
      "LoRA",
      "None",
      1,
      1,
      1,
      "LoRA",
      "None",
      1,
      1,
      1,
      false,
      "none",
      "None",
      1,
      0,
      1,
      "0.0001",
      0.9,
      5,
      "None",
      false,
      "",
      false,
      0.1,
      "Seed",
      "",
      "Nothing",
      "",
      "Nothing",
      "",
      "None",
      null,
      null,
      null,
      null,
      null,
      []
    ],
    // "session_hash": "b2810whwrvs"
  };
}

// dynamic cleanSeed() {
//   return {
//     "fn_index": ,
//     "data": [],
//     // "session_hash": "xo1qqnyjm6"
//   };
// }

dynamic refreshModel() {
  return ;
}


dynamic sketchUp(Configs config){
  return {
    "fn_index": 500,
    "data": [
      "",//task
      1,
      config.prompt,//prompt
      config.negativePrompt,//neg
      // config.,//"默认关键词","negative ext","真实的"styles
      "",//image
      "",//image
      {
        "image": "",//image
        "mask": ""
      },
      null,
      null,
      null,
      null,
      30,
      "DPM++ SDE Karras",//sampler
      4,
      0,
      "original",
      true,//face fix
      false,//tiling
      1,//batch
      1,//count
      12,//cfg
      1.5,
      0.25,//denoising strength
      -1,
      -1,
      0,
      0,
      0,
      false,
      960,//width
      960,//height
      "Just resize (latent upscale)",//
      "Whole picture",//
      32,
      "Inpaint masked",
      "",
      "",
      "",
      [],
      "None",
      false,
      "MultiDiffusion",
      false,
      10,
      1,
      1,
      64,
      false,
      true,
      1024,
      1024,
      96,
      96,
      48,
      1,
      "None",
      2,
      false,
      false,
      false,
      false,
      false,
      0.4,
      0.4,
      0.2,
      0.2,
      "",
      "",
      "Background",
      0.2,
      -1,
      false,
      0.4,
      0.4,
      0.2,
      0.2,
      "",
      "",
      "Background",
      0.2,
      -1,
      false,
      0.4,
      0.4,
      0.2,
      0.2,
      "",
      "",
      "Background",
      0.2,
      -1,
      false,
      0.4,
      0.4,
      0.2,
      0.2,
      "",
      "",
      "Background",
      0.2,
      -1,
      false,
      0.4,
      0.4,
      0.2,
      0.2,
      "",
      "",
      "Background",
      0.2,
      -1,
      false,
      0.4,
      0.4,
      0.2,
      0.2,
      "",
      "",
      "Background",
      0.2,
      -1,
      false,
      0.4,
      0.4,
      0.2,
      0.2,
      "",
      "",
      "Background",
      0.2,
      -1,
      false,
      0.4,
      0.4,
      0.2,
      0.2,
      "",
      "",
      "Background",
      0.2,
      -1,
      false,
      false,
      true,
      true,
      false,
      1536,
      96,
      false,
      "",
      0,
      false,
      false,
      "LoRA",
      "None",
      1,
      1,
      "LoRA",
      "None",
      1,
      1,
      "LoRA",
      "None",
      1,
      1,
      "LoRA",
      "None",
      1,
      1,
      "LoRA",
      "None",
      1,
      1,
      "Refresh models",
      null,
      false,
      "none",
      "None",
      1,
      null,
      false,
      "Scale to Fit (Inner Fit)",
      false,
      false,
      64,
      64,
      64,
      1,
      false,
      false,
      "",
      0.5,
      true,
      false,
      "",
      "Lerp",
      false,
      0.9,
      5,
      "0.0001",
      false,
      "None",
      "",
      0.1,
      false,
      "",
      true,
      true,
      "",
      "",
      true,
      50,
      true,
      1,
      0,
      false,
      4,
      1,
      "",
      128,
      8,
      [
        "left",
        "right",
        "up",
        "down"
      ],
      1,
      0.05,
      128,
      4,
      "fill",
      [
        "left",
        "right",
        "up",
        "down"
      ],
      false,
      false,
      "positive",
      "comma",
      0,
      false,
      false,
      "",
      "",
      64,
      "None",
      2,
      "Seed",
      "",
      "Nothing",
      "",
      "Nothing",
      "",
      true,
      false,
      false,
      false,
      0,
      "Not set",
      true,
      true,
      "",
      "",
      "",
      "",
      "",
      1.3,
      "Not set",
      "Not set",
      1.3,
      "Not set",
      1.3,
      "Not set",
      1.3,
      1.3,
      "Not set",
      1.3,
      "Not set",
      1.3,
      "Not set",
      1.3,
      "Not set",
      1.3,
      "Not set",
      1.3,
      "Not set",
      false,
      "None",
      null,
      false,
      50,
      [
        {
          "name": "",//F:\\SD\\outputs\\img2img-images\\2023-05-09\\00017-3161341122.png
          "data": "",//file=F:\\SD\\outputs\\img2img-images\\2023-05-09\\00017-3161341122.png
          "is_file": true
        }
      ],
      "",
      "",
      ""
    ],
    // "session_hash": "5i5jztn95hq"
  };
}
// dynamic getConfigs() {
//   return {
//     "fn_index": CMD_GET_CONFIGS,
//     "data": [],
//     // "session_hash": "7vuvdqy85iv"
//   };
// }
